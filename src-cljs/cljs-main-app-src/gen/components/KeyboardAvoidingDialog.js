var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=exports.KeyboardAvoidingModal=void 0;var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var React=_interopRequireWildcard(require("react"));var _reactNativePaper=require("react-native-paper");var _reactNative=require("react-native");var _this=this,_jsxFileName="/Users/jeyasankar/Development/repositories/github/OneKeePass-Organization/mobile/js-components/components/KeyboardAvoidingDialog.js";function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap(),t=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(e){return e?t:r;})(e);}function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u];}return n.default=e,t&&t.set(e,n),n;}var KeyboardAvoidingDialog=function KeyboardAvoidingDialog(props){var _React$useState=React.useState(0),_React$useState2=(0,_slicedToArray2.default)(_React$useState,2),bottom=_React$useState2[0],setBottom=_React$useState2[1];React.useEffect(function(){function onKeyboardChange(e){if(_reactNative.Platform.OS==='ios'){if(e!=null&&e.startCoordinates&&e.endCoordinates.screenY<e.startCoordinates.screenY){setBottom(e.endCoordinates.height/2);}}else{var _e$endCoordinates;if(e!=null&&(_e$endCoordinates=e.endCoordinates)!=null&&_e$endCoordinates.height){setBottom(e.endCoordinates.height/2);}else{setBottom(0);}}}function onHide(e){setBottom(0);}var subscriptions=[_reactNative.Keyboard.addListener('keyboardWillChangeFrame',onKeyboardChange),_reactNative.Keyboard.addListener('keyboardDidHide',onHide),_reactNative.Keyboard.addListener('keyboardDidShow',onKeyboardChange),_reactNative.Keyboard.addListener('keyboardWillHide',onHide)];return function(){return subscriptions.forEach(function(subscription){return subscription.remove();});};},[]);return React.createElement(_reactNativePaper.Dialog,{style:{bottom:bottom},visible:props.visible,onDismiss:props.onDismiss,__self:_this,__source:{fileName:_jsxFileName,lineNumber:69,columnNumber:5}},props.children);};var KeyboardAvoidingModal=exports.KeyboardAvoidingModal=function KeyboardAvoidingModal(props){var _React$useState3=React.useState(0),_React$useState4=(0,_slicedToArray2.default)(_React$useState3,2),bottom=_React$useState4[0],setBottom=_React$useState4[1];React.useEffect(function(){function onKeyboardChange(e){if(e.endCoordinates.screenY<e.startCoordinates.screenY){setBottom(e.endCoordinates.height/2);}}function onHide(e){setBottom(0);}var subscriptions=[_reactNative.Keyboard.addListener('keyboardWillChangeFrame',onKeyboardChange),_reactNative.Keyboard.addListener('keyboardDidHide',onHide),_reactNative.Keyboard.addListener('keyboardDidShow',onKeyboardChange),_reactNative.Keyboard.addListener('keyboardWillHide',onHide)];return function(){return subscriptions.forEach(function(subscription){return subscription.remove();});};},[]);return React.createElement(_reactNativePaper.Modal,{style:{bottom:bottom},visible:props.visible,onDismiss:props.onDismiss,contentContainerStyle:props.contentContainerStyle,__self:_this,__source:{fileName:_jsxFileName,lineNumber:106,columnNumber:5}},props.children);};var _default=exports.default=KeyboardAvoidingDialog;